---
task: {task_name}
step: task{XX}
title: {subtask_title}
status: todo|doing|done|blocked
updated: {YYYY-MM-DD}
---

# task{XX}: {subtask_title}

## 0. 通俗摘要（一段话）
{3~5 句：这一步要做什么、怎么做、产出是什么、影响/风险点}

## 1. 本步目标（最小闭环）
{一句话：本步完成就算“交付”的最小结果}

## 2. 范围
**做**
- {in1}
- {in2}

**不做**
- {out1}

## 3. 变更清单（文件）
| 路径 | 变更 | 目的 |
|---|---|---|
| {path_a} | add/modify/delete | {why} |
| {path_b} | modify | {why} |

## 4. 技术方案（禁止完整实现体）
- 思路：{3~6 条 bullet 描述流程/算法/策略}
- 关键点：{约束/兼容/配置注入/副作用控制}
- 伪步骤（可选）：{step1 -> step2 -> step3}

## 5. 本步契约（只写“本步相关”，别上升到系统边界）
| 项目 | 规格 |
|---|---|
| 输入 | {类型/形状/必填字段/前置条件} |
| 输出 | {类型/形状/保证} |
| 边界 | {空/异常/极端规模} |
| 错误 | {何时失败/如何处理} |

## 6. 验证
- 测试点：{要覆盖什么行为}
- 命令：`pytest {path}` / `{other_cmd}`
- 预期：{pass/关键断言}

## 7. 本步 DoD
- [ ] 第 3 节文件变更完成
- [ ] 第 5 节契约满足
- [ ] 第 6 节验证通过
- [ ] overview.md 的任务索引已更新状态

## 8. 决策点（可选）
- N/A
